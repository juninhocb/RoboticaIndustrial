function result = FuncionObjetivo(x,y)

t1 = x(1);
t2 = x(2);
t3 = 0;
t4 = x(3);
t5 = x(4);
t6 = x(5);
t7 = x(6);

%Comprimento das pernas
l1 = 166;
l2 = 251.5;
l3 = 265;
l4 = 136;
a0 = 325;
a1 = 30;
a2 = 40.5;
a3 = 27;

Px = y(1,1);
Py = y(1,2);
Pz = y(1,3);

Bz = l1 + a1*sin((pi*t2)/180);
Cz = l1 + l2*cos((pi*t2)/180) + a1*sin((pi*t2)/180) + a2*cos((pi*t3)/180)*sin((pi*t2)/180);
Dz = l1 + l2*cos((pi*t2)/180) + a1*sin((pi*t2)/180) + a2*cos((pi*t3)/180)*sin((pi*t2)/180) - a2*cos((pi*t2)/180)*sin((pi*t4)/180) - a2*cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180);
Ez = l1 + l2*cos((pi*t2)/180) + a1*sin((pi*t2)/180) + l3*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + a3*cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) + a2*cos((pi*t3)/180)*sin((pi*t2)/180) - a2*cos((pi*t2)/180)*sin((pi*t4)/180) - a2*cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180) - a3*sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180);
Fz = l1 + l2*cos((pi*t2)/180) + a1*sin((pi*t2)/180) + l3*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + a3*cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - a3*sin((pi*t6)/180)*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - a3*cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180)) + a2*cos((pi*t3)/180)*sin((pi*t2)/180) - a2*cos((pi*t2)/180)*sin((pi*t4)/180) - a2*cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180) - a3*sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180);

Gfx = l3*(sin((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) - cos((pi*t1)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - a0 - a1*cos((pi*t1)/180) + l4*(cos((pi*t6)/180)*(sin((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) - cos((pi*t1)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) + sin((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180)))) + a2*cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) - a3*sin((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180)) - a3*cos((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - a3*sin((pi*t6)/180)*(sin((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) - cos((pi*t1)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) + a3*cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180))) + a1*cos((pi*t1)/180)*cos((pi*t2)/180) - l2*cos((pi*t1)/180)*sin((pi*t2)/180) - a2*sin((pi*t1)/180)*sin((pi*t3)/180) + a2*cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180) + a2*cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180);
Gfy = a3*sin((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180)) - a1*sin((pi*t1)/180) - l4*(cos((pi*t6)/180)*(sin((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) + cos((pi*t4)/180)*sin((pi*t1)/180)*sin((pi*t2)/180)) + sin((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180)))) - a2*cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - l3*(sin((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) + cos((pi*t4)/180)*sin((pi*t1)/180)*sin((pi*t2)/180)) + a3*cos((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + a3*sin((pi*t6)/180)*(sin((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) + cos((pi*t4)/180)*sin((pi*t1)/180)*sin((pi*t2)/180)) - a3*cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180))) + a1*cos((pi*t2)/180)*sin((pi*t1)/180) + a2*cos((pi*t1)/180)*sin((pi*t3)/180) - l2*sin((pi*t1)/180)*sin((pi*t2)/180) + a2*cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180) + a2*sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180);
Gfz = l1 - l4*(sin((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180)) - cos((pi*t6)/180)*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180))) + l2*cos((pi*t2)/180) + a1*sin((pi*t2)/180) + l3*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + a3*cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - a3*sin((pi*t6)/180)*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - a3*cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180)) + a2*cos((pi*t3)/180)*sin((pi*t2)/180) - a2*cos((pi*t2)/180)*sin((pi*t4)/180) - a2*cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180) - a3*sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180);

aax = cos((pi*t6)/180)*(sin((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) - cos((pi*t1)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) + sin((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180)));
aay = - cos((pi*t6)/180)*(sin((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) + cos((pi*t4)/180)*sin((pi*t1)/180)*sin((pi*t2)/180)) - sin((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180)));
aaz = cos((pi*t6)/180)*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - sin((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180));

oox = cos((pi*t7)/180)*(sin((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - cos((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180))) - sin((pi*t7)/180)*(sin((pi*t6)/180)*(sin((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) - cos((pi*t1)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180))));
ooy = sin((pi*t7)/180)*(sin((pi*t6)/180)*(sin((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) + cos((pi*t4)/180)*sin((pi*t1)/180)*sin((pi*t2)/180)) - cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180)))) - cos((pi*t7)/180)*(sin((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - cos((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180)));
ooz = - cos((pi*t7)/180)*(sin((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) + cos((pi*t5)/180)*sin((pi*t2)/180)*sin((pi*t3)/180)) - sin((pi*t7)/180)*(cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180)) + sin((pi*t6)/180)*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)));

nnx = sin((pi*t7)/180)*(sin((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - cos((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180))) + cos((pi*t7)/180)*(sin((pi*t6)/180)*(sin((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) - cos((pi*t1)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(sin((pi*t1)/180)*sin((pi*t3)/180) - cos((pi*t1)/180)*cos((pi*t2)/180)*cos((pi*t3)/180)) + cos((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t3)/180)*sin((pi*t1)/180) + cos((pi*t1)/180)*cos((pi*t2)/180)*sin((pi*t3)/180))));
nny = - sin((pi*t7)/180)*(sin((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) - cos((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180))) - cos((pi*t7)/180)*(sin((pi*t6)/180)*(sin((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) + cos((pi*t4)/180)*sin((pi*t1)/180)*sin((pi*t2)/180)) - cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t4)/180)*(cos((pi*t1)/180)*sin((pi*t3)/180) + cos((pi*t2)/180)*cos((pi*t3)/180)*sin((pi*t1)/180)) - sin((pi*t1)/180)*sin((pi*t2)/180)*sin((pi*t4)/180)) + sin((pi*t5)/180)*(cos((pi*t1)/180)*cos((pi*t3)/180) - cos((pi*t2)/180)*sin((pi*t1)/180)*sin((pi*t3)/180))));
nnz = cos((pi*t7)/180)*(cos((pi*t6)/180)*(cos((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) - sin((pi*t2)/180)*sin((pi*t3)/180)*sin((pi*t5)/180)) + sin((pi*t6)/180)*(cos((pi*t2)/180)*cos((pi*t4)/180) - cos((pi*t3)/180)*sin((pi*t2)/180)*sin((pi*t4)/180))) - sin((pi*t7)/180)*(sin((pi*t5)/180)*(cos((pi*t2)/180)*sin((pi*t4)/180) + cos((pi*t3)/180)*cos((pi*t4)/180)*sin((pi*t2)/180)) + cos((pi*t5)/180)*sin((pi*t2)/180)*sin((pi*t3)/180));

% | (nnx > 1) | (nnx < -1) | (nny > 1) | (nny < -1) | (nnz > 1) | (nnz < -1)
% Penalizacion de singularidades
%  + (nnx - 0)^2 + (nny - 0)^2 + (nnz - 1)^2
pen = 0;
if ((t7 > 359) | (t7 < 0) | (t1 > 359) | (t1 < 0) | (t2 > 359) | (t2 < 0) | (t4 > 359) | (t4 < 0) | (t5 > 359) | (t5 < 0) | (t6 > 359) | (t6 < 0) | (Gfz < 0) | (Fz < 0) | (Ez < 0) | (Dz < 0) | (Cz < 0) | (Bz < 0))
    pen = pen + 999999999999999;
end

result = (Px - Gfx)^2 + (Py - Gfy)^2 + (Pz - Gfz)^2 + (aax - 1)^2*10e3 + (aay - 0)^2*10e3 + (aaz - 0)^2*10e3 + (oox - 0)^2*10e3 + (ooy - 0)^2*10e3 + (ooz - 1)^2*10e3 + (nnx - 0)^2*10e3 + (nny - 1)^2*10e3 + (nnz - 0)^2*10e3 + pen;

