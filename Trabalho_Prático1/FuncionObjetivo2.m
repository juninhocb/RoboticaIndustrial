function result = FuncionObjetivo2(x,y)

w1 = x(1);
w2 = x(2);
w3 = 0;
w4 = x(3);
w5 = x(4);
w6 = x(5);
w7 = x(6);

%Comprimento das pernas
l1 = 166;
l2 = 251.5;
l3 = 265;
l4 = 136;
a0 = 325;
a1 = 30;
a2 = 40.5;
a3 = 27;
a4 = -325;

Px = y(1,1);
Py = y(1,2);
Pz = y(1,3);

Bz2 = l1 - a1*sin((pi*w2)/180);
Cz2 = l1 + l2*cos((pi*w2)/180) - a1*sin((pi*w2)/180) - a2*cos((pi*w3)/180)*sin((pi*w2)/180);
Dz2 = l1 + l2*cos((pi*w2)/180) - a1*sin((pi*w2)/180) - a2*cos((pi*w3)/180)*sin((pi*w2)/180) + a2*cos((pi*w2)/180)*sin((pi*w4)/180) + a2*cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180);
Ez2 = l1 + l2*cos((pi*w2)/180) - a1*sin((pi*w2)/180) + l3*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - a3*cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - a2*cos((pi*w3)/180)*sin((pi*w2)/180) + a2*cos((pi*w2)/180)*sin((pi*w4)/180) + a2*cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180) + a3*sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180);
Fz2 = l1 + l2*cos((pi*w2)/180) - a1*sin((pi*w2)/180) + l3*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - a3*cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) + a3*sin((pi*w6)/180)*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + a3*cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180)) - a2*cos((pi*w3)/180)*sin((pi*w2)/180) + a2*cos((pi*w2)/180)*sin((pi*w4)/180) + a2*cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180) + a3*sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180);

Gfx = l3*(sin((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) - cos((pi*w1)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - a4 + a1*cos((pi*w1)/180) + l4*(cos((pi*w6)/180)*(sin((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) - cos((pi*w1)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) + sin((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180)))) - a2*cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + a3*sin((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180)) + a3*cos((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + a3*sin((pi*w6)/180)*(sin((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) - cos((pi*w1)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - a1*cos((pi*w1)/180)*cos((pi*w2)/180) - a3*cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180))) - l2*cos((pi*w1)/180)*sin((pi*w2)/180) + a2*sin((pi*w1)/180)*sin((pi*w3)/180) - a2*cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180) - a2*cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180);
Gfy = a1*sin((pi*w1)/180) - l3*(sin((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) + cos((pi*w4)/180)*sin((pi*w1)/180)*sin((pi*w2)/180)) - l4*(cos((pi*w6)/180)*(sin((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) + cos((pi*w4)/180)*sin((pi*w1)/180)*sin((pi*w2)/180)) + sin((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180)))) + a2*cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - a3*sin((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180)) - a3*cos((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - a3*sin((pi*w6)/180)*(sin((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) + cos((pi*w4)/180)*sin((pi*w1)/180)*sin((pi*w2)/180)) - a1*cos((pi*w2)/180)*sin((pi*w1)/180) - a2*cos((pi*w1)/180)*sin((pi*w3)/180) + a3*cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180))) - l2*sin((pi*w1)/180)*sin((pi*w2)/180) - a2*cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180) - a2*sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180);
Gfz = l1 + l2*cos((pi*w2)/180) - a1*sin((pi*w2)/180) - l4*(sin((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180)) - cos((pi*w6)/180)*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180))) + l3*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - a3*cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) + a3*sin((pi*w6)/180)*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + a3*cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180)) - a2*cos((pi*w3)/180)*sin((pi*w2)/180) + a2*cos((pi*w2)/180)*sin((pi*w4)/180) + a2*cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180) + a3*sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180);

aax = cos((pi*w6)/180)*(sin((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) - cos((pi*w1)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) + sin((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180)));
aay = - cos((pi*w6)/180)*(sin((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) + cos((pi*w4)/180)*sin((pi*w1)/180)*sin((pi*w2)/180)) - sin((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180)));
aaz = cos((pi*w6)/180)*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - sin((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180));

oox = cos((pi*w7)/180)*(sin((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - cos((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180))) - sin((pi*w7)/180)*(sin((pi*w6)/180)*(sin((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) - cos((pi*w1)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180))));
ooy = sin((pi*w7)/180)*(sin((pi*w6)/180)*(sin((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) + cos((pi*w4)/180)*sin((pi*w1)/180)*sin((pi*w2)/180)) - cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180)))) - cos((pi*w7)/180)*(sin((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - cos((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180)));
ooz = - cos((pi*w7)/180)*(sin((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) + cos((pi*w5)/180)*sin((pi*w2)/180)*sin((pi*w3)/180)) - sin((pi*w7)/180)*(cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180)) + sin((pi*w6)/180)*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)));

nnx = cos((pi*w7)/180)*(sin((pi*w6)/180)*(sin((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) - cos((pi*w1)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180)))) + sin((pi*w7)/180)*(sin((pi*w5)/180)*(cos((pi*w4)/180)*(sin((pi*w1)/180)*sin((pi*w3)/180) - cos((pi*w1)/180)*cos((pi*w2)/180)*cos((pi*w3)/180)) + cos((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - cos((pi*w5)/180)*(cos((pi*w3)/180)*sin((pi*w1)/180) + cos((pi*w1)/180)*cos((pi*w2)/180)*sin((pi*w3)/180)));
nny = - cos((pi*w7)/180)*(sin((pi*w6)/180)*(sin((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) + cos((pi*w4)/180)*sin((pi*w1)/180)*sin((pi*w2)/180)) - cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) + sin((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180)))) - sin((pi*w7)/180)*(sin((pi*w5)/180)*(cos((pi*w4)/180)*(cos((pi*w1)/180)*sin((pi*w3)/180) + cos((pi*w2)/180)*cos((pi*w3)/180)*sin((pi*w1)/180)) - sin((pi*w1)/180)*sin((pi*w2)/180)*sin((pi*w4)/180)) - cos((pi*w5)/180)*(cos((pi*w1)/180)*cos((pi*w3)/180) - cos((pi*w2)/180)*sin((pi*w1)/180)*sin((pi*w3)/180)));
nnz = cos((pi*w7)/180)*(cos((pi*w6)/180)*(cos((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) - sin((pi*w2)/180)*sin((pi*w3)/180)*sin((pi*w5)/180)) + sin((pi*w6)/180)*(cos((pi*w2)/180)*cos((pi*w4)/180) - cos((pi*w3)/180)*sin((pi*w2)/180)*sin((pi*w4)/180))) - sin((pi*w7)/180)*(sin((pi*w5)/180)*(cos((pi*w2)/180)*sin((pi*w4)/180) + cos((pi*w3)/180)*cos((pi*w4)/180)*sin((pi*w2)/180)) + cos((pi*w5)/180)*sin((pi*w2)/180)*sin((pi*w3)/180));

% Penalizacion de singularidades
pen = 0;
if ((w7 > 359) | (w7 < 0) | (w1 > 359) | (w1 < 0) | (w2 > 359) | (w2 < 0) | (w4 > 359) | (w4 < 0) | (w5 > 359) | (w5 < 0) | (w6 > 359) | (w6 < 0) | (Gfz < 0) | (Fz2 < 0) | (Ez2 < 0) | (Dz2 < 0) | (Cz2 < 0) | (Bz2 < 0))
    pen = pen + 999999999999999;
end

result = (Px - Gfx)^2 + (Py - Gfy)^2 + (Pz - Gfz)^2 + (aax + 1)^2*10e3 + (aay - 0)^2*10e3 + (aaz - 0)^2*10e3 + (oox - 0)^2*10e3 + (ooy - 0)^2*10e3 + (ooz - 1)^2*10e3 + (nnx - 0)^2*10e3 + (nny + 1)^2*10e3 + (nnz - 0)^2*10e3 + pen;

